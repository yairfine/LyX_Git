<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module auto_git</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>auto_git</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:c%3A%5Cusers%5Cyuser%5Cauto-git%5Cauto_git.py">c:\users\yuser\auto-git\auto_git.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="asyncio.html">asyncio</a><br>
<a href="git.html">git</a><br>
</td><td width="25%" valign=top><a href="json.html">json</a><br>
<a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="requests.html">requests</a><br>
<a href="subprocess.html">subprocess</a><br>
</td><td width="25%" valign=top><a href="sys.html">sys</a><br>
<a href="time.html">time</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-cleanup_settings_global"><strong>cleanup_settings_global</strong></a>()</dt><dd><tt>remove&nbsp;the&nbsp;'auto-git-settings'&nbsp;directory&nbsp;and&nbsp;the&nbsp;global-settings-file&nbsp;in&nbsp;it,&nbsp;from&nbsp;home&nbsp;dir&nbsp;(~/).</tt></dd></dl>
 <dl><dt><a name="-cleanup_settings_local"><strong>cleanup_settings_local</strong></a>(dir_path)</dt><dd><tt>remove&nbsp;the&nbsp;settings-file&nbsp;and&nbsp;the&nbsp;repo&nbsp;files&nbsp;from&nbsp;the&nbsp;given&nbsp;directory.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;dir_path&nbsp;(Pathlib&nbsp;Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;directory</tt></dd></dl>
 <dl><dt><a name="-dir_is_initiated"><strong>dir_is_initiated</strong></a>(dir_path)</dt><dd><tt>Check&nbsp;if&nbsp;the&nbsp;directory&nbsp;has&nbsp;a&nbsp;settings&nbsp;file,&nbsp;with&nbsp;repo_name,&nbsp;ssh_url,&nbsp;etc.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;dir_path&nbsp;(Pathlib&nbsp;Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;directory<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool:&nbsp;True&nbsp;if&nbsp;the&nbsp;local&nbsp;settings&nbsp;file&nbsp;is&nbsp;already&nbsp;configured&nbsp;in&nbsp;this&nbsp;directory,&nbsp;False&nbsp;otherwise</tt></dd></dl>
 <dl><dt><a name="-first_config"><strong>first_config</strong></a>()</dt><dd><tt>Configure&nbsp;the&nbsp;user's&nbsp;computer&nbsp;to&nbsp;be&nbsp;ready&nbsp;to&nbsp;use&nbsp;the&nbsp;program.<br>
Create&nbsp;global&nbsp;settings&nbsp;file&nbsp;with&nbsp;user's&nbsp;PAT,&nbsp;user_name&nbsp;and&nbsp;email.<br>
Globally&nbsp;Configure&nbsp;git&nbsp;user's&nbsp;credentials&nbsp;on&nbsp;the&nbsp;machine.</tt></dd></dl>
 <dl><dt><a name="-first_init_add_commit_push"><strong>first_init_add_commit_push</strong></a>(dir_path, ssh_url)</dt><dd><tt>Initialize&nbsp;a&nbsp;new&nbsp;local&nbsp;git&nbsp;repository&nbsp;in&nbsp;the&nbsp;directory.<br>
&nbsp;&nbsp;&nbsp;Add&nbsp;all&nbsp;file&nbsp;to&nbsp;it&nbsp;and&nbsp;commit&nbsp;them.<br>
&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;new&nbsp;remote-tracking-branch&nbsp;'master'.<br>
&nbsp;&nbsp;&nbsp;Push&nbsp;the&nbsp;repo&nbsp;to&nbsp;the&nbsp;fresh&nbsp;already&nbsp;created&nbsp;GitHub&nbsp;repository.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;dir_path&nbsp;(Pathlib&nbsp;Path):&nbsp;Path&nbsp;to&nbsp;the&nbsp;directory<br>
&nbsp;&nbsp;&nbsp;&nbsp;ssh_url&nbsp;(string):&nbsp;Remote&nbsp;repository&nbsp;ssh-url</tt></dd></dl>
 <dl><dt><a name="-get_endpoint"><strong>get_endpoint</strong></a>(end_point, pat)</dt><dd><tt>Preform&nbsp;a&nbsp;GET&nbsp;http&nbsp;request&nbsp;to&nbsp;the&nbsp;end_point&nbsp;of&nbsp;BASE_URL&nbsp;(GitHub&nbsp;API),&nbsp;with&nbsp;the&nbsp;access&nbsp;token&nbsp;pat.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;end_point&nbsp;(string):&nbsp;The&nbsp;end-point&nbsp;in&nbsp;the&nbsp;rest&nbsp;API&nbsp;BASE_URL<br>
&nbsp;&nbsp;&nbsp;&nbsp;pat&nbsp;(string):&nbsp;The&nbsp;Private&nbsp;Access&nbsp;Token&nbsp;of&nbsp;the&nbsp;user<br>
&nbsp;<br>
Raises:<br>
&nbsp;&nbsp;&nbsp;&nbsp;ConnectionError:&nbsp;Raised&nbsp;when&nbsp;the&nbsp;respones'&nbsp;status&nbsp;code&nbsp;is&nbsp;not&nbsp;ok.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;python-object:&nbsp;Loaded-json&nbsp;response&nbsp;-&nbsp;Dictionary/array/etc</tt></dd></dl>
 <dl><dt><a name="-git_config_global"><strong>git_config_global</strong></a>(user_name, user_email)</dt></dl>
 <dl><dt><a name="-initiate_settings_global"><strong>initiate_settings_global</strong></a>()</dt><dd><tt>Create&nbsp;'auto-git-settings'&nbsp;directory&nbsp;in&nbsp;home&nbsp;dir,&nbsp;and&nbsp;a&nbsp;settings&nbsp;file&nbsp;in&nbsp;it.</tt></dd></dl>
 <dl><dt><a name="-initiate_settings_local_dir"><strong>initiate_settings_local_dir</strong></a>(settings_file, readme_file, gitignore_file)</dt><dd><tt>Create&nbsp;settings-file&nbsp;and&nbsp;git&nbsp;repo&nbsp;files&nbsp;in&nbsp;the&nbsp;directory<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;settings_file&nbsp;(Pathlib&nbsp;Path):&nbsp;settings-file&nbsp;to&nbsp;create<br>
&nbsp;&nbsp;&nbsp;&nbsp;readme_file&nbsp;(Pathlib&nbsp;Path):&nbsp;README.md&nbsp;file&nbsp;to&nbsp;create<br>
&nbsp;&nbsp;&nbsp;&nbsp;gitignore_file&nbsp;(Pathlib&nbsp;Path):&nbsp;.gitignore&nbsp;file&nbsp;to&nbsp;create</tt></dd></dl>
 <dl><dt><a name="-lock"><strong>lock</strong></a>(path)</dt><dd><tt>Hide&nbsp;and&nbsp;read-only&nbsp;a&nbsp;given&nbsp;file<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;(Pathlib&nbsp;Path):&nbsp;Path&nbsp;to&nbsp;the&nbsp;file&nbsp;to&nbsp;lock</tt></dd></dl>
 <dl><dt><a name="-main"><strong>main</strong></a>()</dt><dd><tt>Usage:&nbsp;auto_git.py&nbsp;[-h]&nbsp;(-c&nbsp;|&nbsp;-f&nbsp;&lt;file_path&gt;)</tt></dd></dl>
 <dl><dt><a name="-new_track"><strong>new_track</strong></a>(raw_file_path)</dt><dd><tt>Configure&nbsp;a&nbsp;new&nbsp;file&nbsp;directory&nbsp;to&nbsp;be&nbsp;ready&nbsp;to&nbsp;be&nbsp;tracked.<br>
&nbsp;&nbsp;&nbsp;Create&nbsp;settings&nbsp;and&nbsp;GitHub&nbsp;files.<br>
&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;remote&nbsp;repository&nbsp;on&nbsp;GitHub<br>
&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;local&nbsp;repository&nbsp;and&nbsp;push&nbsp;it&nbsp;to&nbsp;the&nbsp;remote&nbsp;on&nbsp;GitHub.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;raw_file_path&nbsp;(string):&nbsp;Path&nbsp;to&nbsp;the&nbsp;file&nbsp;to&nbsp;be&nbsp;tracked</tt></dd></dl>
 <dl><dt><a name="-post_endpoint"><strong>post_endpoint</strong></a>(end_point, pat, payload)</dt><dd><tt>Preform&nbsp;a&nbsp;POST&nbsp;http&nbsp;request&nbsp;to&nbsp;the&nbsp;end_point&nbsp;of&nbsp;BASE_URL&nbsp;(GitHub&nbsp;API),<br>
&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;access&nbsp;token&nbsp;pat&nbsp;and&nbsp;the&nbsp;body<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;end_point&nbsp;(string):&nbsp;The&nbsp;end-point&nbsp;in&nbsp;the&nbsp;rest&nbsp;API&nbsp;of&nbsp;BASE_URL<br>
&nbsp;&nbsp;&nbsp;&nbsp;pat&nbsp;(string):&nbsp;The&nbsp;Private&nbsp;Access&nbsp;Token&nbsp;of&nbsp;the&nbsp;user<br>
&nbsp;&nbsp;&nbsp;&nbsp;payload&nbsp;(dictionary):&nbsp;Data&nbsp;to&nbsp;transfer&nbsp;with&nbsp;the&nbsp;POST&nbsp;method<br>
&nbsp;<br>
Raises:<br>
&nbsp;&nbsp;&nbsp;&nbsp;ConnectionError:&nbsp;Raised&nbsp;when&nbsp;the&nbsp;respones'&nbsp;status&nbsp;code&nbsp;is&nbsp;not&nbsp;ok.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;python-object:&nbsp;Loaded-json&nbsp;response&nbsp;-&nbsp;Dictionary/array/etc</tt></dd></dl>
 <dl><dt><a name="-push_changes"><strong>push_changes</strong></a>(file_to_track)</dt><dd><tt>Every&nbsp;INTERVAL,&nbsp;check&nbsp;if&nbsp;any&nbsp;changes&nbsp;took&nbsp;place&nbsp;in&nbsp;the&nbsp;directory,&nbsp;and&nbsp;push&nbsp;them&nbsp;if&nbsp;there&nbsp;where.&nbsp;&nbsp;<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;file_to_track&nbsp;(Pathlib&nbsp;Path):&nbsp;Path&nbsp;to&nbsp;the&nbsp;dominant&nbsp;file&nbsp;we&nbsp;want&nbsp;to&nbsp;track.</tt></dd></dl>
 <dl><dt><a name="-retrieve_pat"><strong>retrieve_pat</strong></a>()</dt><dd><tt>Prompts&nbsp;the&nbsp;user&nbsp;to&nbsp;enter&nbsp;it's&nbsp;Private&nbsp;Access&nbsp;Token&nbsp;to&nbsp;GitHub.<br>
&nbsp;<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;string:&nbsp;The&nbsp;Private&nbsp;Access&nbsp;Token</tt></dd></dl>
 <dl><dt><a name="-start_track"><strong>start_track</strong></a>(raw_file_path)</dt><dd><tt>The&nbsp;main&nbsp;function&nbsp;that&nbsp;drives&nbsp;the&nbsp;program.<br>
&nbsp;&nbsp;&nbsp;Start&nbsp;a&nbsp;tracking&nbsp;session&nbsp;on&nbsp;a&nbsp;given&nbsp;file<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;raw_file_path&nbsp;(string):&nbsp;Path&nbsp;to&nbsp;the&nbsp;file&nbsp;to&nbsp;track</tt></dd></dl>
 <dl><dt><a name="-system_is_configured"><strong>system_is_configured</strong></a>()</dt><dd><tt>Check&nbsp;if&nbsp;the&nbsp;computer&nbsp;that&nbsp;runs&nbsp;the&nbsp;program&nbsp;is&nbsp;already&nbsp;has&nbsp;the&nbsp;global&nbsp;settings&nbsp;file&nbsp;with&nbsp;PAT,&nbsp;user-name,&nbsp;etc<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool:&nbsp;True&nbsp;if&nbsp;the&nbsp;global&nbsp;settings&nbsp;file&nbsp;is&nbsp;already&nbsp;configured&nbsp;in&nbsp;the&nbsp;compter,&nbsp;False&nbsp;otherwise</tt></dd></dl>
 <dl><dt><a name="-unlock"><strong>unlock</strong></a>(path)</dt><dd><tt>Un-hide&nbsp;and&nbsp;un-read-only&nbsp;a&nbsp;given&nbsp;file<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;(Pathlib&nbsp;Path):&nbsp;Path&nbsp;to&nbsp;the&nbsp;file&nbsp;to&nbsp;un-lock</tt></dd></dl>
 <dl><dt><a name="-write_settings_local"><strong>write_settings_local</strong></a>(settings_file, settings_json, readme_file, readme, gitignore_file, ignores)</dt><dd><tt>Write&nbsp;content&nbsp;in&nbsp;settings-file&nbsp;and&nbsp;git&nbsp;repo&nbsp;files<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;settings_file&nbsp;(Pathlib&nbsp;Path):&nbsp;settings-file&nbsp;to&nbsp;write&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;settings_json&nbsp;(string):&nbsp;Content&nbsp;to&nbsp;write&nbsp;in&nbsp;settings-file&nbsp;(json&nbsp;format)<br>
&nbsp;&nbsp;&nbsp;&nbsp;readme_file&nbsp;(Pathlib&nbsp;Path):&nbsp;Path&nbsp;to&nbsp;README.md&nbsp;file<br>
&nbsp;&nbsp;&nbsp;&nbsp;readme&nbsp;(string):&nbsp;Content&nbsp;to&nbsp;write&nbsp;in&nbsp;README&nbsp;file<br>
&nbsp;&nbsp;&nbsp;&nbsp;gitignore_file&nbsp;(Pathlib&nbsp;Path):&nbsp;Path&nbsp;to&nbsp;.gitignore&nbsp;file<br>
&nbsp;&nbsp;&nbsp;&nbsp;ignores&nbsp;(string):&nbsp;Content&nbsp;to&nbsp;write&nbsp;in&nbsp;.gitignore&nbsp;file</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>API_BASE_URL</strong> = 'https://api.github.com'<br>
<strong>DESCRIPTION</strong> = 'Track file and automatic push to remote github repository.'<br>
<strong>EPILOG</strong> = 'For more information, visit the project page on: https://github.com/yairfine/auto-git'<br>
<strong>ERR_CREATE_REMOTE</strong> = ' ~~ Error creating remote repo ~~ '<br>
<strong>ERR_PARSE_JSON</strong> = ' ~~ Error parsing json ~~ '<br>
<strong>ERR_SETTINGS_GLOBAL_EXISTS</strong> = "It's seems like you already configured this system,<font color="#c040c0">\n</font>try to run again with -f flag"<br>
<strong>ERR_SETTINGS_LOCAL_EXISTS</strong> = "It's seems like you already initiated this direc...<font color="#c040c0">\n</font>auto-git-settings file to see if it's not empty."<br>
<strong>ERR_STATUS_CODE</strong> = 'Respone code is not ok - {} - {}'<br>
<strong>HELP_FILE_PATH</strong> = 'the path to the file you want to track'<br>
<strong>HELP_FIRST_CONFIG</strong> = 'configure system and exit'<br>
<strong>HELP_NEW_TRACK</strong> = 'initiate a new tracking configuration for a given file'<br>
<strong>HELP_START_TRACK</strong> = "start tracking a given file and it's directory"<br>
<strong>INTERVAL_SECONDS</strong> = 40<br>
<strong>METAVAR_FILE_PATH</strong> = '"&lt;file_path&gt;"'<br>
<strong>MSG_CHANGE_RECORDED</strong> = 'A change was recorded - {}'<br>
<strong>MSG_COMMIT</strong> = 'commit no.{} - {}'<br>
<strong>MSG_END_NEW_TRACK</strong> = 'Done preparing for a new track'<br>
<strong>MSG_END_TRACKING</strong> = 'Tracking session has ended'<br>
<strong>MSG_START_TRACKING</strong> = "Started tracking changes on file '{}'<font color="#c040c0">\n</font>To stop: press Ctrl+C and wait a minute"<br>
<strong>MSG_SUCCESS_CONFIG</strong> = 'Config was successful !'<br>
<strong>PROMPT_PAT</strong> = 'Welcome to auto-git!<font color="#c040c0">\n</font>Please paste your Private Accesses Token here<font color="#c040c0">\n</font>Your PAT: '<br>
<strong>PROMPT_REPO_NAME</strong> = "You've never tracked this directory before.<font color="#c040c0">\n</font>Please enter a NAME for new remote repository: "<br>
<strong>SETTINGS_DIR_GLOBAL</strong> = WindowsPath('C:/Users/Yuser/auto-git-settings')<br>
<strong>SETTINGS_FILE_GLOBAL</strong> = WindowsPath('C:/Users/Yuser/auto-git-settings/auto_git_settings_global.txt')</td></tr></table>
</body></html>